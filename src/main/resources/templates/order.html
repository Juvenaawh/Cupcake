<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Order</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../public/css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet"/>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet"/>
</head>
<body>

<header>
        <img alt="logo" src="../public/images/logo.png" th:src="@{/images/logo.png}"/>
</header>

<div class="header-box">
    <p1>OLSKER</p1>
    <p>CUPCAKES</p>
</div>

<div class="menu-bar">
    <menu>
        <div class="menu-style">
        <span><a href="order.html" th:href="@{/order}">Home</a></span>
        <span class="spacing"><a href="profile.html" th:href="@{/profile}">Profile</a></span>
        <span class="spacing"><a href="contact.html" th:href="@{/contact}">Contact</a></span>
        <span class="spacing" th:if="${session.currentUser != null}"><a href="index.html" th:href="@{/logout}">Logout</a></span>
        <span><h1>You're logged in as <span id="current-user" th:text="${session.currentUser.email}"></span></h1></span>
        </div>
    </menu>
    <div id="basket">
        <a href="cart.html" th:href="@{/cart}"><i class='bx bx-basket' style='color:#D99099' ></i></a>
    </div>
</div>

<div class="flex-order">
    <h2>Customize your combination</h2>
    <form class="generic-form" method="post">
        <label class="order-label" for="bottom">Choose bottom :</label>
        <select class="order-style" id="bottom" name="bottom">
            <option value="1">Chocolate - 5.00 kr</option>
            <option value="2">Vanilla - 5.00 kr</option>
            <option value="3">Nutmeg - 5.00 kr</option>
            <option value="4">Pistacio - 6.00 kr</option>
            <option value="5">Almond - 7.00 kr</option>
        </select><br><br>

        <label class="order-label" for="topping">Choose topping :</label>
        <select class="order-style" id="topping" name="topping">
            <option value="1">Chocolate - 5.00 kr</option>
            <option value="2">Blueberry - 5.00 kr</option>
            <option value="3">Rasberry - 5.00 kr</option>
            <option value="4">Crispy - 6.00 kr</option>
            <option value="5">Strawberry - 6.00 kr</option>
            <option value="6/Raisin">Rum/Raisin - 7.00 kr</option>
            <option value="7">Orange - 8.00 kr</option>
            <option value="8">Lemon - 8.00 kr</option>
            <option value="9">Blue cheese - 9.00 kr</option>
        </select><br><br>

        <label class="order-label" for="quantity">Choose quantity :</label>
        <select class="order-style" id="quantity" name="quantity">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">4</option>
            <option value="4">8</option>
            <option value="5">12</option>
        </select>

        <p>Total price: <span id="price">10.00 kr</span></p>
        <button id="btn-order" type="submit" formaction="additem">Add To Basket</button>
    </form>
</div>

<div class="img-container">
    <div class="img-item">
        <img alt="Pistachio" src="../public/images/pistachio.png" th:src="@{/images/pistachio.png}">
        <figcaption class="img-text">Pistachio bottom</figcaption>
    </div>
    <div class="img-item">
        <img alt="Chocolate" src="../public/images/chocolate.png" th:src="@{/images/chocolate.png}">
        <figcaption class="img-text">Chocolate bottom</figcaption>
    </div>
    <div class="img-item">
        <img alt="Nutmeg" src="../public/images/nutmeg.png" th:src="@{/images/nutmeg.png}">
        <figcaption class="img-text">Nutmeg bottom</figcaption>
    </div>
    <div class="img-item">
        <img alt="Almond" src="../public/images/almond.png" th:src="@{/images/almond.png}">
        <figcaption class="img-text">Almond bottom</figcaption>
    </div>
    <div class="img-item">
        <img alt="Vanilla" src="../public/images/vanilla.png" th:src="@{/images/vanilla.png}">
        <figcaption class="img-text">Vanilla bottom</figcaption>
    </div>
</div>

<script>
    const bottomPrices = { 'Chocolate': 5.00, 'Vanilla': 5.00, 'Nutmeg': 5.00, 'Pistacio': 6.00, 'Almond': 7.00 };
    const toppingPrices = { 'Chocolate': 5.00, 'Blueberry': 5.00, 'Rasberry': 5.00, 'Crispy': 6.00, 'Strawberry': 6.00 };

    const bottomSelect = document.getElementById('bottom');
    const toppingSelect = document.getElementById('topping');
    const priceDisplay = document.getElementById('price');

    function updatePrice() {
        const bottomPrice = bottomPrices[bottomSelect.value];
        const toppingPrice = toppingPrices[toppingSelect.value];
        const totalPrice = bottomPrice + toppingPrice;
        priceDisplay.textContent = `${totalPrice.toFixed(2)} kr`;
    }

    bottomSelect.addEventListener('change', updatePrice);
    toppingSelect.addEventListener('change', updatePrice);

    // opdatering af prisen ved indl√¶sning af siden
    document.addEventListener('DOMContentLoaded', updatePrice);
</script>
</body>
</html>